{% extends 'app_base.jinja2' %}
{% block title %}Stocks{% endblock %}
{% block content %}
    <div class="navbar">
        <ul class="navlist">
            <li class="navitem"><a class="navbutton" onclick="openForm()">Add Stock</a></li>
        </ul>
    </div>
    <h2 class="title">Stocks</h2>
    <div id="addStock" class="center">
        <div class="form center">
            <form method="post">
                <label for="category">Product Category</label>
                <select class="ffield" id="category" name="category">
                    {% for category in cats %}
                        <option>{{ category }}</option>
                    {% endfor %}
                </select>
                <label for="name">Stock Name</label>
                <input class="ffield" type="text" id="name" name="name" maxlength="50">
                <label for="unit">Unit</label>
                <select class="ffield" id="unit" name="unit">
                    {% for unit in units %}
                        <option>{{ unit }}</option>
                    {% endfor %}
                </select>
                <label for="stock">Stock Quantity</label>
                <input class="ffield" type="number" id="stock" name="stock">
                <label for="avg_value">Purchase Price per Unit</label>
                <input class="ffield" type="number" id="avg_value" name="avg_value">
                <label for="date">Date</label>
                <input class="ffield" type="date" id="date" name="date" value="{{ today }}" max="{{ today }}">
                <div class="fbuttons">
                    <input class="fbutton" type="reset" onclick="closeForm()" placeholder="Close">
                    <input class="fbutton" type="submit" placeholder="Add">
                </div>
            </form>
        </div>
    </div>
    <div class="table center">
        <table class="items">
        <tr class="item header">
            <td>Category</td>
            <td>Stock Name</td>
            <td>Unit</td>
            <td>Stock Quantity</td>
            <td>Average value</td>
            <td>Total value</td>
            <td>Detail</td>
        </tr>
        {% for item in stocks %}
            <tr class="item">
                <td>{{ item.category }}</td>
                <td>{{ item.name }}</td>
                <td>{{ item.unit }}</td>
                <td>{{ item.stock_amount }} {{ item.unit }}</td>
                <td class="money">{{ item.avg_value }}{{ currency }}</td>
                <td class="money">{{ item.total_value }}{{ currency }}</td>
                <td><button class="btnedit"><a href="#form" class="reset">Detail</a></button></td>
                <td hidden="hidden">{{ item.nameid }}</td>
            </tr>
        {% endfor %}
        <tr class="item">
                <td colspan="5">Total price</td>
                <td class="money" colspan="2">{{ total_price }}{{ currency }}</td>
            </tr>
        </table>
    </div>
<div role="dialog" id="test" tabindex="-1" class="test">

<div id="form" class="modalWindow">

    <div>
        <div class="buttons center">
        <a href="#" class="reset"> X </a>
        <button class="btndetail">Edit</button>
        <button class="btndetail">Satış</button>
        </div>
        <div class="table center">
            <table class="items">
        <tr class="item header">
            <td>Date</td>
            <td>Price</td>
            <td>Item Amount</td>
        </tr>
        <tr class="item">
            <td>Placeholder</td>
            <td>Placeholder</td>
            <td>Placeholder</td>
        </tr>
    </table>
        </div>
    </div>
</div>
</div>
{% endblock %}